<!DOCTYPE html>
<html lang="en">
<head>
<title>credit-card number validation</title>
<style>
	h2{
		text-align: center;
		background-color: lightgray;
		margin: 0;
		padding: 10px;
	}

	li{
		list-style-type: none;
	}

	.container{
		border: 3px solid black;
		height: 450px;
		width: 600px;
		font-size: larger;
		margin: 40px;
		padding-left: 10px;
		float: left;
	}

	.container input[type="text"]{
		width: 65%;
		height: 30px;
		padding-left: 20px;
		margin-left: 20px;
	}

	.container input[type="submit"]{
		margin-top: 30px;
		margin-left: 385px;
		width: 100px;
		height: 30px;
	}

	.container2{
		border: black solid 2px;
		height: 250px;
		width: 500px;
		float: right;
		margin-top: 50px;
		margin-right: 30px;
		padding: 20px;
	}

	.clr{
		clear: both;
	}

	.container2 input[type="submit"]{
		margin-top: 20px;
		margin-left: 400px;
		height: 30px;
	}
</style>   
</head>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<body onload='document.form1.text1.focus()'>
<h2>Upgrade to premium to view articles like this</h2>
<form ng-app="" name="frmccdetail" method="post" action="http://localhost/mydb/test1.php">
<div class="mail">

<div class="container">
	<h3>Input User Credentials</h3>
	<ul>
		<li>
		<label for="Name"><strong> Card Holder's Name</strong></label><br>
		<input type='text' id='text3' name='text3' ng-model="text3"></li>
		</ul>
		<ul>
		<li>
		<label for="Number" style="padding-right: 10px;"><strong>Card Number</strong></label>
		<img src="Images/visa.png" alt='Visa' width="70" height="40">
		<img src="Images/mastercard.png" alt='Visa' width="70" height="40">
		<img src="Images/diners.png" alt='Visa' width="70" height="40"><br>
		<input type='text' id='text1' name='text1' ng-model="text1"></li>
		</ul>
		<label for="cvv" style="padding-left: 35px;"><strong>CVV</strong></label>
		<ul>
		<li><input type='text' style="width: 30%; float: left;" id='text2' name='text2' ng-model="text2"></li>
		</ul>
		<label for="Expire" style="padding-left: 35px; float: left;"><strong>Expiry Date</strong></label>
		<ul>
		<select style="margin-left: 10px; height: 20px;" id="expiryMonth">
				  <option selected> Month </option>
					<option>01</option>
					<option>02</option>
					<option>03</option>
					<option>04</option>
					<option>05</option>
					<option>06</option>
					<option>07</option>
					<option>08</option>
					<option>09</option>
					<option>10</option>
					<option>11</option>
					<option>12</option>
			</select>
		 <select style="height: 20px;" id="expiryYear">
					   <option selected>Year</option>
					<option>2018</option>
					<option>2019</option>
					<option>2020</option>
					<option>2021</option>
					<option>2022</option>
					<option>2023</option>
					<option>2024</option>
					<option>2025</option>
					<option>2026</option>
					<option>2027</option>
					<option>2028</option>
					<option>2029</option>
					<option>2030</option>
			</select>	 
		</ul>
		<ul>
		<div class="clr"></div>
		<!-- <p>last modified @ <span id="modify"> </span></p> -->
		<li class="submit"><input type="submit" name="submit" value="Submit" onclick="return myfunction()"/></li>
</div>
<div class="container2">
	<h3>Update CVV</h3>
	<h4>Name</h4>
	<input type='text' id='text6' name='text6' ng-model="text6"></li>
	<h4>CVV</h4>
	<li><input type='text' id='text5' name='text5' ng-model="text5"></li>
	<li class="submit"><input type="submit" name="submit" value="Update" /></li>
</div>
</form>
</div>
<script>
function myfunction()
{
	//document.getElementById('modify').innerHTML=document.lastModified;
	var form = document.getElementById('form1');
	var cc= document.getElementById('text1');
	var cvv1= document.getElementById('text2');
	var name1= document.getElementById('text3');
	var expiryMonth = document.getElementById('expiryMonth');
	var expiryYear = document.getElementById('expiryYear');
	var cardno1 = /^4?([0-9]{3})?[-]?([0-9]{4})?[-]?([0-9]{4})?[-]?([0-9]{4})?$/ ;
	var cardno2 = /^((5?([1-5][0-9]{2})?[-]?([0-9]{4})?[-]?([0-9]{4})?[-]?([0-9]{4}))|(2?(22[1-9])?[-]?([0-9]{4})?[-]?([0-9]{4})?[-]?([0-9]{4}))|(22?([3-9][0-9])?[-]?([0-9]{4})?[-]?([0-9]{4})?[-]?([0-9]{4}))|(2?([3-6][0-9]{2})?[-]?([0-9]{4})?[-]?([0-9]{4})?[-]?([0-9]{4}))|(27?([0-1][0-9])?[-]?([0-9]{4})?[-]?([0-9]{4})?[-]?([0-9]{4}))|((2720)?[-]?([0-9]{4})?[-]?([0-9]{4})?[-]?([0-9]{4})))$/ ;

	var cardno3 = /^3?((?:0[0-5]|[68][0-9])[0-9])?[-]?([0-9]{4})?[-]?([0-9]{4})?[-]?([0-9]{2})$/;
	var letters = /^[A-Za-z ]+$/;
	if(name1.value.match(letters));
	else
	{ alert("Enter name with alphabets alone ");
	}
	if(cc.value=="" || cc.value==null)
	{
		alert("Please enter card number");
	}
	if(cvv1.value=="" || cvv1.value==null)
	{
		alert("Please enter CVV");
	}
	if(name1.value=="" || name1.value==null)
	{
		alert("please enter valid Card holder name");
	}
	if(cc.value.match(cardno1))
	{
		var parent = document.getElementById("dom");
		parent.removeChild(parent.childNodes[0]);
		alert("valid visa card number");		
	}
	else if(cc.value.match(cardno2))
	{
		var parent = document.getElementById("dom");
		parent.removeChild(parent.childNodes[0]);
		alert("valid master card number");
	}
	else if(cc.value.match(cardno3))
	{
		var parent = document.getElementById("dom");
		parent.removeChild(parent.childNodes[0]);
		alert("valid diner's club card number");
	}
	else        
	{
		
		var para = document.createElement("p");
		var node = document.createTextNode("Invalid card number");
		para.appendChild(node);
		var element = document.getElementById("dom");
		element.insertBefore(para, element.childNodes[0]);
	}
	
	var month = expiryMonth.value;
	var year = expiryYear.value;
	var d = new Date();
	if(year<d.getFullYear())
	{
   		alert("Expired card");
	} 
	else if(month>d.getMonth())
	{
    		alert("non-expired card");
	}
	else
	{
    		alert("Expired card");
	}
	
	return false;
}
</script>
</body>
</html>